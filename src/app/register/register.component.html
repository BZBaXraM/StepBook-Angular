<form class="my-form" [formGroup]="registerForm" (ngSubmit)="register()" autocomplete="off">
	<h2 class="text-center text-pretty">
		Sign up
		<mat-icon>account_circle</mat-icon>
	</h2>
	<hr/>

	<div class="mb-3">
		<label style="margin-right: 10px;">I am a: </label>
		<label class="form-check-label">
			<input type="radio" class="form-check-input" value="Male" formControlName="Gender"/> Male
		</label>
		<label class="form-check-label">
			<input type="radio" class="form-check-input" value="Female" formControlName="Gender"/> Female
		</label>
	</div>
	<app-text-input [formControl]="registerForm.controls.Email" [label]="'Email'"></app-text-input>
	<app-text-input [formControl]="$any(registerForm.controls['Username'])" [label]="'Username'"></app-text-input>
	<app-text-input [formControl]="$any(registerForm.controls['KnownAs'])" [label]="'Known As'"></app-text-input>
	<app-date-picker [formControl]="$any(registerForm.controls['DateOfBirth'])"
					 [label]="'Date of Birth'" [maxDate]="maxDate"/>
	<app-text-input [formControl]="$any(registerForm.controls['City'])" [label]="'City'"></app-text-input>
	<app-text-input [formControl]="$any(registerForm.controls['Country'])" [label]="'Country'"/>
	<app-text-input [formControl]="$any(registerForm.controls['Password'])"
					[label]="'Password'"
					[type]="passwordFieldType">
	</app-text-input>
	<app-text-input [formControl]="$any(registerForm.controls['ConfirmPassword'])"
					[label]="'Confirm password'"
					[type]="passwordFieldType">
	</app-text-input>

	<button style="color: #3469bd" type="button" (click)="togglePasswordVisibility()">
		{{ passwordFieldType === 'password' ? 'Show password' : 'Hide password' }}
	</button>

	@if (validationErrors) {
		<div class="alert alert-danger text-start">
			<ul>
				@for (error of validationErrors; track $index) {
					<li>{{ error }}</li>
				}
			</ul>
		</div>
	}

	<div class="form-group text-center">
		<button [disabled]="!registerForm.valid" mat-button class="cool-btn" type="submit">Register</button>
		<button mat-button class="cool-btn" (click)="cancel()">Cancel</button>
	</div>
</form>
