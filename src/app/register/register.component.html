<form
	[formGroup]="registerForm"
	(ngSubmit)="register()"
	autocomplete="off"
	class="max-w-sm mx-auto"
>
	<mat-card class="p-4">
		<mat-card-header class="mb-4">
			<mat-card-title class="text-lg">Sign up</mat-card-title>
			<mat-icon class="ml-2">account_circle</mat-icon>
		</mat-card-header>
		<mat-card-content>
			<div class="grid grid-cols-1 gap-3">
				<mat-radio-group
					formControlName="Gender"
					class="flex justify-start space-x-4"
				>
					<mat-label class="text-sm">I am a:</mat-label>
					<mat-radio-button value="Male" class="text-sm"
						>Male</mat-radio-button
					>
					<mat-radio-button value="Female" class="text-sm"
						>Female</mat-radio-button
					>
				</mat-radio-group>

				<mat-form-field appearance="outline" class="w-full">
					<input
						matInput
						formControlName="Email"
						placeholder="Email"
						class="text-sm"
					/>
				</mat-form-field>

				<mat-form-field appearance="outline" class="w-full">
					<input
						matInput
						formControlName="Username"
						placeholder="Username"
						class="text-sm"
					/>
				</mat-form-field>

				<mat-form-field appearance="outline" class="w-full">
					<input
						matInput
						formControlName="KnownAs"
						placeholder="Known As"
						class="text-sm"
					/>
				</mat-form-field>

				<mat-form-field appearance="outline" class="w-full">
					<input
						matInput
						[matDatepicker]="picker"
						formControlName="DateOfBirth"
						placeholder="Date of Birth"
						[max]="maxDate"
						class="text-sm"
					/>
					<mat-datepicker-toggle
						matSuffix
						[for]="picker"
					></mat-datepicker-toggle>
					<mat-datepicker #picker></mat-datepicker>
				</mat-form-field>

				<mat-form-field appearance="outline" class="w-full">
					<input
						matInput
						formControlName="City"
						placeholder="City"
						class="text-sm"
					/>
				</mat-form-field>

				<mat-form-field appearance="outline" class="w-full">
					<input
						matInput
						formControlName="Country"
						placeholder="Country"
						class="text-sm"
					/>
				</mat-form-field>

				<mat-form-field appearance="outline" class="w-full">
					<input
						matInput
						[type]="passwordFieldType"
						formControlName="Password"
						placeholder="Password"
						class="text-sm"
					/>
					<mat-icon
						matSuffix
						(click)="togglePasswordVisibility()"
						class="cursor-pointer"
					>
						{{
							passwordFieldType === "password"
								? "visibility_off"
								: "visibility"
						}}
					</mat-icon>
				</mat-form-field>

				<mat-form-field appearance="outline" class="w-full">
					<input
						matInput
						[type]="passwordFieldType"
						formControlName="ConfirmPassword"
						placeholder="Confirm Password"
						class="text-sm"
					/>
				</mat-form-field>
			</div>

			@if (validationErrors && validationErrors.length) {
			<mat-error class="mt-2 text-xs">
				<ul>
					@for (error of validationErrors; track error) {
					<li>{{ error }}</li>
					}
				</ul>
			</mat-error>
			}
		</mat-card-content>
		<mat-card-actions class="flex justify-end space-x-2 mt-4">
			<button
				mat-raised-button
				color="primary"
				type="submit"
				[disabled]="!registerForm.valid"
				class="text-sm"
			>
				Register
			</button>
			<button mat-button (click)="cancel()" class="text-sm">
				Cancel
			</button>
		</mat-card-actions>
	</mat-card>
</form>
