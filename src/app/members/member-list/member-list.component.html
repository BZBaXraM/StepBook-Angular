<div
	class="container mx-auto px-4 py-6 bg-gradient-to-br from-indigo-50 to-purple-50 min-h-screen"
>
	<div class="max-w-6xl mx-auto">
		<div class="bg-white shadow-xl rounded-2xl overflow-hidden">
			<div class="bg-gradient-to-r from-indigo-600 to-purple-600 p-6">
				<h2 class="text-3xl font-extrabold text-center text-white">
					Friends
					<span class="text-pink-200 ml-2">
						({{
							memberService.paginatedResult()?.pagination
								?.totalItems
						}})
					</span>
				</h2>
			</div>

			<div class="p-6">
				<form
					class="bg-gray-50 border border-gray-100 rounded-xl p-5 mb-6"
					#form="ngForm"
					(ngSubmit)="getMembers()"
				>
					<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
						<div class="flex flex-col">
							<label
								class="text-sm font-medium text-gray-600 mb-2"
								>Age Range</label
							>
							<div class="flex space-x-2">
								<div class="flex-1">
									<input
										type="number"
										class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-200"
										placeholder="From"
										name="minAge"
										[(ngModel)]="
											memberService.userParams().MinAge
										"
									/>
								</div>
								<div class="flex-1">
									<input
										type="number"
										class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-200"
										placeholder="To"
										name="maxAge"
										[(ngModel)]="
											memberService.userParams().MaxAge
										"
									/>
								</div>
							</div>
						</div>

						<div class="flex flex-col">
							<label
								class="text-sm font-medium text-gray-600 mb-2"
								>Gender</label
							>
							<select
								class="px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-indigo-200"
								name="gender"
								[(ngModel)]="memberService.userParams().Gender"
							>
								@for (item of genderList; track item.value) {
								<option [value]="item.value">
									{{ item.display }}
								</option>
								}
							</select>
						</div>

						<div class="flex flex-col justify-end space-y-2">
							<div class="flex space-x-2">
								<button
									type="submit"
									class="flex-1 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition duration-300"
								>
									Apply Filters
								</button>
								<button
									type="button"
									class="flex-1 px-4 py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 transition duration-300"
									(click)="resetFilters()"
								>
									Reset
								</button>
							</div>
						</div>
					</div>

					<div class="mt-4 flex justify-center space-x-4">
						<button
							type="button"
							class="px-4 py-2 rounded-md text-sm transition duration-300"
							[ngClass]="{
								'bg-blue-500 text-white':
									memberService.userParams().OrderBy ===
									'lastActive',
								'bg-gray-200 text-gray-700':
									memberService.userParams().OrderBy !==
									'lastActive'
							}"
							name="orderBy"
							(click)="getMembers()"
							btnRadio="lastActive"
							[(ngModel)]="memberService.userParams().OrderBy"
						>
							Last Active
						</button>
						<button
							type="button"
							class="px-4 py-2 rounded-md text-sm transition duration-300"
							[ngClass]="{
								'bg-green-500 text-white':
									memberService.userParams().OrderBy ===
									'created',
								'bg-gray-200 text-gray-700':
									memberService.userParams().OrderBy !==
									'created'
							}"
							name="orderBy"
							(click)="getMembers()"
							btnRadio="created"
							[(ngModel)]="memberService.userParams().OrderBy"
						>
							Newest
						</button>
					</div>
				</form>

				<div
					class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4"
				>
					@for (member of memberService.paginatedResult()?.items;
					track member.Id) {
					<div
						class="transform hover:scale-105 transition duration-300"
					>
						<app-member-card [member]="member"></app-member-card>
					</div>
					}
				</div>
			</div>

			@if (memberService.paginatedResult()?.pagination) {
			<div class="bg-gray-100 p-4 flex justify-center">
				<pagination
					[boundaryLinks]="true"
					[totalItems]="
						(memberService.paginatedResult()?.pagination)!
							.totalItems
					"
					[itemsPerPage]="
						(memberService.paginatedResult()?.pagination)!
							.itemsPerPage
					"
					(pageChanged)="pageChanged($event)"
					[(ngModel)]="
						(memberService.paginatedResult()?.pagination)!
							.currentPage
					"
					[maxSize]="5"
					previousText="&lsaquo;"
					nextText="&rsaquo;"
					firstText="&laquo;"
					lastText="&raquo;"
					class="pagination-custom"
				></pagination>
			</div>
			}
		</div>
	</div>
</div>
