<div class="container mx-auto px-2 py-4 relative min-h-screen">
	<div class="content-wrapper">
		<h2 class="text-2xl font-bold text-center text-indigo-800 mb-4">
			Your Matches
			<span class="text-pink-600">
				({{ memberService.paginatedResult()?.pagination?.totalItems }})
			</span>
		</h2>

		<form
			class="bg-white shadow-md rounded-lg p-4 mb-4"
			#form="ngForm"
			(ngSubmit)="getMembers()"
		>
			<div class="flex flex-wrap gap-2 items-center justify-between">
				<div class="flex items-center space-x-2">
					<label
						class="text-xs font-medium text-gray-700"
						for="minAge"
						>From:</label
					>
					<input
						type="number"
						class="w-16 px-2 py-1 border border-gray-300 rounded-md text-sm"
						id="minAge"
						name="minAge"
						[(ngModel)]="memberService.userParams().MinAge"
					/>
				</div>

				<div class="flex items-center space-x-2">
					<label
						class="text-xs font-medium text-gray-700"
						for="maxAge"
						>To:</label
					>
					<input
						type="number"
						class="w-16 px-2 py-1 border border-gray-300 rounded-md text-sm"
						id="maxAge"
						name="maxAge"
						[(ngModel)]="memberService.userParams().MaxAge"
					/>
				</div>

				<select
					class="px-2 py-1 border border-gray-300 rounded-md text-sm w-28"
					name="gender"
					[(ngModel)]="memberService.userParams().Gender"
				>
					@for (item of genderList; track item.value) {
					<option [value]="item.value">{{ item.display }}</option>
					}
				</select>

				<div class="flex space-x-2">
					<button
						type="submit"
						class="px-3 py-1 bg-indigo-500 text-white rounded-md text-sm hover:bg-indigo-600"
					>
						Apply
					</button>
					<button
						type="button"
						class="px-3 py-1 bg-pink-500 text-white rounded-md text-sm hover:bg-pink-600"
						(click)="resetFilters()"
					>
						Reset
					</button>
				</div>
			</div>

			<div class="flex justify-end space-x-2 mt-2">
				<button
					type="button"
					class="px-3 py-1 bg-blue-500 text-white rounded-md text-sm hover:bg-blue-600"
					name="orderBy"
					(click)="getMembers()"
					btnRadio="lastActive"
					[(ngModel)]="memberService.userParams().OrderBy"
				>
					Last Active
				</button>
				<button
					type="button"
					class="px-3 py-1 bg-green-500 text-white rounded-md text-sm hover:bg-green-600"
					name="orderBy"
					(click)="getMembers()"
					btnRadio="created"
					[(ngModel)]="memberService.userParams().OrderBy"
				>
					Newest
				</button>
			</div>
		</form>

		<div
			class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3"
		>
			@for (member of memberService.paginatedResult()?.items; track
			member.Id) {
			<div>
				<app-member-card [member]="member"></app-member-card>
			</div>
			}
		</div>
	</div>

	@if (memberService.paginatedResult()?.pagination) {
	<div class="fixed-pagination">
		<pagination
			[boundaryLinks]="true"
			[totalItems]="
				(memberService.paginatedResult()?.pagination)!.totalItems
			"
			[itemsPerPage]="
				(memberService.paginatedResult()?.pagination)!.itemsPerPage
			"
			(pageChanged)="pageChanged($event)"
			[(ngModel)]="
				(memberService.paginatedResult()?.pagination)!.currentPage
			"
			[maxSize]="5"
			previousText="&lsaquo;"
			nextText="&rsaquo;"
			firstText="&laquo;"
			lastText="&raquo;"
			class="pagination-sm"
		></pagination>
	</div>
	}
</div>
